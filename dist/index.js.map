{"version":3,"file":"index.js","mappings":"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","sources":["webpack://redux-store2-simple/webpack/universalModuleDefinition","webpack://redux-store2-simple/./node_modules/merge/lib/src/index.js","webpack://redux-store2-simple/./node_modules/store2/dist/store2.js","webpack://redux-store2-simple/webpack/bootstrap","webpack://redux-store2-simple/webpack/runtime/compat get default export","webpack://redux-store2-simple/webpack/runtime/define property getters","webpack://redux-store2-simple/webpack/runtime/hasOwnProperty shorthand","webpack://redux-store2-simple/webpack/runtime/make namespace object","webpack://redux-store2-simple/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"redux-store2-simple\"] = factory();\n\telse\n\t\troot[\"redux-store2-simple\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isPlainObject = exports.clone = exports.recursive = exports.merge = exports.main = void 0;\r\nmodule.exports = exports = main;\r\nexports.default = main;\r\nfunction main() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return merge.apply(void 0, items);\r\n}\r\nexports.main = main;\r\nmain.clone = clone;\r\nmain.isPlainObject = isPlainObject;\r\nmain.recursive = recursive;\r\nfunction merge() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return _merge(items[0] === true, false, items);\r\n}\r\nexports.merge = merge;\r\nfunction recursive() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return _merge(items[0] === true, true, items);\r\n}\r\nexports.recursive = recursive;\r\nfunction clone(input) {\r\n    if (Array.isArray(input)) {\r\n        var output = [];\r\n        for (var index = 0; index < input.length; ++index)\r\n            output.push(clone(input[index]));\r\n        return output;\r\n    }\r\n    else if (isPlainObject(input)) {\r\n        var output = {};\r\n        for (var index in input)\r\n            output[index] = clone(input[index]);\r\n        return output;\r\n    }\r\n    else {\r\n        return input;\r\n    }\r\n}\r\nexports.clone = clone;\r\nfunction isPlainObject(input) {\r\n    return input && typeof input === 'object' && !Array.isArray(input);\r\n}\r\nexports.isPlainObject = isPlainObject;\r\nfunction _recursiveMerge(base, extend) {\r\n    if (!isPlainObject(base))\r\n        return extend;\r\n    for (var key in extend) {\r\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype')\r\n            continue;\r\n        base[key] = (isPlainObject(base[key]) && isPlainObject(extend[key])) ?\r\n            _recursiveMerge(base[key], extend[key]) :\r\n            extend[key];\r\n    }\r\n    return base;\r\n}\r\nfunction _merge(isClone, isRecursive, items) {\r\n    var result;\r\n    if (isClone || !isPlainObject(result = items.shift()))\r\n        result = {};\r\n    for (var index = 0; index < items.length; ++index) {\r\n        var item = items[index];\r\n        if (!isPlainObject(item))\r\n            continue;\r\n        for (var key in item) {\r\n            if (key === '__proto__' || key === 'constructor' || key === 'prototype')\r\n                continue;\r\n            var value = isClone ? clone(item[key]) : item[key];\r\n            result[key] = isRecursive ? _recursiveMerge(result[key], value) : value;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n","/*! store2 - v2.14.2 - 2022-07-18\n* Copyright (c) 2022 Nathan Bubna; Licensed (MIT OR GPL-3.0) */\n;(function(window, define) {\n    var _ = {\n        version: \"2.14.2\",\n        areas: {},\n        apis: {},\n        nsdelim: '.',\n\n        // utilities\n        inherit: function(api, o) {\n            for (var p in api) {\n                if (!o.hasOwnProperty(p)) {\n                    Object.defineProperty(o, p, Object.getOwnPropertyDescriptor(api, p));\n                }\n            }\n            return o;\n        },\n        stringify: function(d, fn) {\n            return d === undefined || typeof d === \"function\" ? d+'' : JSON.stringify(d,fn||_.replace);\n        },\n        parse: function(s, fn) {\n            // if it doesn't parse, return as is\n            try{ return JSON.parse(s,fn||_.revive); }catch(e){ return s; }\n        },\n\n        // extension hooks\n        fn: function(name, fn) {\n            _.storeAPI[name] = fn;\n            for (var api in _.apis) {\n                _.apis[api][name] = fn;\n            }\n        },\n        get: function(area, key){ return area.getItem(key); },\n        set: function(area, key, string){ area.setItem(key, string); },\n        remove: function(area, key){ area.removeItem(key); },\n        key: function(area, i){ return area.key(i); },\n        length: function(area){ return area.length; },\n        clear: function(area){ area.clear(); },\n\n        // core functions\n        Store: function(id, area, namespace) {\n            var store = _.inherit(_.storeAPI, function(key, data, overwrite) {\n                if (arguments.length === 0){ return store.getAll(); }\n                if (typeof data === \"function\"){ return store.transact(key, data, overwrite); }// fn=data, alt=overwrite\n                if (data !== undefined){ return store.set(key, data, overwrite); }\n                if (typeof key === \"string\" || typeof key === \"number\"){ return store.get(key); }\n                if (typeof key === \"function\"){ return store.each(key); }\n                if (!key){ return store.clear(); }\n                return store.setAll(key, data);// overwrite=data, data=key\n            });\n            store._id = id;\n            try {\n                var testKey = '__store2_test';\n                area.setItem(testKey, 'ok');\n                store._area = area;\n                area.removeItem(testKey);\n            } catch (e) {\n                store._area = _.storage('fake');\n            }\n            store._ns = namespace || '';\n            if (!_.areas[id]) {\n                _.areas[id] = store._area;\n            }\n            if (!_.apis[store._ns+store._id]) {\n                _.apis[store._ns+store._id] = store;\n            }\n            return store;\n        },\n        storeAPI: {\n            // admin functions\n            area: function(id, area) {\n                var store = this[id];\n                if (!store || !store.area) {\n                    store = _.Store(id, area, this._ns);//new area-specific api in this namespace\n                    if (!this[id]){ this[id] = store; }\n                }\n                return store;\n            },\n            namespace: function(namespace, singleArea, delim) {\n                delim = delim || this._delim || _.nsdelim;\n                if (!namespace){\n                    return this._ns ? this._ns.substring(0,this._ns.length-delim.length) : '';\n                }\n                var ns = namespace, store = this[ns];\n                if (!store || !store.namespace) {\n                    store = _.Store(this._id, this._area, this._ns+ns+delim);//new namespaced api\n                    store._delim = delim;\n                    if (!this[ns]){ this[ns] = store; }\n                    if (!singleArea) {\n                        for (var name in _.areas) {\n                            store.area(name, _.areas[name]);\n                        }\n                    }\n                }\n                return store;\n            },\n            isFake: function(force) {\n                if (force) {\n                    this._real = this._area;\n                    this._area = _.storage('fake');\n                } else if (force === false) {\n                    this._area = this._real || this._area;\n                }\n                return this._area.name === 'fake';\n            },\n            toString: function() {\n                return 'store'+(this._ns?'.'+this.namespace():'')+'['+this._id+']';\n            },\n\n            // storage functions\n            has: function(key) {\n                if (this._area.has) {\n                    return this._area.has(this._in(key));//extension hook\n                }\n                return !!(this._in(key) in this._area);\n            },\n            size: function(){ return this.keys().length; },\n            each: function(fn, fill) {// fill is used by keys(fillList) and getAll(fillList))\n                for (var i=0, m=_.length(this._area); i<m; i++) {\n                    var key = this._out(_.key(this._area, i));\n                    if (key !== undefined) {\n                        if (fn.call(this, key, this.get(key), fill) === false) {\n                            break;\n                        }\n                    }\n                    if (m > _.length(this._area)) { m--; i--; }// in case of removeItem\n                }\n                return fill || this;\n            },\n            keys: function(fillList) {\n                return this.each(function(k, v, list){ list.push(k); }, fillList || []);\n            },\n            get: function(key, alt) {\n                var s = _.get(this._area, this._in(key)),\n                    fn;\n                if (typeof alt === \"function\") {\n                    fn = alt;\n                    alt = null;\n                }\n                return s !== null ? _.parse(s, fn) :\n                    alt != null ? alt : s;\n            },\n            getAll: function(fillObj) {\n                return this.each(function(k, v, all){ all[k] = v; }, fillObj || {});\n            },\n            transact: function(key, fn, alt) {\n                var val = this.get(key, alt),\n                    ret = fn(val);\n                this.set(key, ret === undefined ? val : ret);\n                return this;\n            },\n            set: function(key, data, overwrite) {\n                var d = this.get(key),\n                    replacer;\n                if (d != null && overwrite === false) {\n                    return data;\n                }\n                if (typeof overwrite === \"function\") {\n                    replacer = overwrite;\n                    overwrite = undefined;\n                }\n                return _.set(this._area, this._in(key), _.stringify(data, replacer), overwrite) || d;\n            },\n            setAll: function(data, overwrite) {\n                var changed, val;\n                for (var key in data) {\n                    val = data[key];\n                    if (this.set(key, val, overwrite) !== val) {\n                        changed = true;\n                    }\n                }\n                return changed;\n            },\n            add: function(key, data, replacer) {\n                var d = this.get(key);\n                if (d instanceof Array) {\n                    data = d.concat(data);\n                } else if (d !== null) {\n                    var type = typeof d;\n                    if (type === typeof data && type === 'object') {\n                        for (var k in data) {\n                            d[k] = data[k];\n                        }\n                        data = d;\n                    } else {\n                        data = d + data;\n                    }\n                }\n                _.set(this._area, this._in(key), _.stringify(data, replacer));\n                return data;\n            },\n            remove: function(key, alt) {\n                var d = this.get(key, alt);\n                _.remove(this._area, this._in(key));\n                return d;\n            },\n            clear: function() {\n                if (!this._ns) {\n                    _.clear(this._area);\n                } else {\n                    this.each(function(k){ _.remove(this._area, this._in(k)); }, 1);\n                }\n                return this;\n            },\n            clearAll: function() {\n                var area = this._area;\n                for (var id in _.areas) {\n                    if (_.areas.hasOwnProperty(id)) {\n                        this._area = _.areas[id];\n                        this.clear();\n                    }\n                }\n                this._area = area;\n                return this;\n            },\n\n            // internal use functions\n            _in: function(k) {\n                if (typeof k !== \"string\"){ k = _.stringify(k); }\n                return this._ns ? this._ns + k : k;\n            },\n            _out: function(k) {\n                return this._ns ?\n                    k && k.indexOf(this._ns) === 0 ?\n                        k.substring(this._ns.length) :\n                        undefined : // so each() knows to skip it\n                    k;\n            }\n        },// end _.storeAPI\n        storage: function(name) {\n            return _.inherit(_.storageAPI, { items: {}, name: name });\n        },\n        storageAPI: {\n            length: 0,\n            has: function(k){ return this.items.hasOwnProperty(k); },\n            key: function(i) {\n                var c = 0;\n                for (var k in this.items){\n                    if (this.has(k) && i === c++) {\n                        return k;\n                    }\n                }\n            },\n            setItem: function(k, v) {\n                if (!this.has(k)) {\n                    this.length++;\n                }\n                this.items[k] = v;\n            },\n            removeItem: function(k) {\n                if (this.has(k)) {\n                    delete this.items[k];\n                    this.length--;\n                }\n            },\n            getItem: function(k){ return this.has(k) ? this.items[k] : null; },\n            clear: function(){ for (var k in this.items){ this.removeItem(k); } }\n        }// end _.storageAPI\n    };\n\n    var store =\n        // safely set this up (throws error in IE10/32bit mode for local files)\n        _.Store(\"local\", (function(){try{ return localStorage; }catch(e){}})());\n    store.local = store;// for completeness\n    store._ = _;// for extenders and debuggers...\n    // safely setup store.session (throws exception in FF for file:/// urls)\n    store.area(\"session\", (function(){try{ return sessionStorage; }catch(e){}})());\n    store.area(\"page\", _.storage(\"page\"));\n\n    if (typeof define === 'function' && define.amd !== undefined) {\n        define('store2', [], function () {\n            return store;\n        });\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = store;\n    } else {\n        // expose the primary store fn to the global object and save conflicts\n        if (window.store){ _.conflict = window.store; }\n        window.store = store;\n    }\n\n})(this, this && this.define);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict'\n\nimport merge from 'merge'\nimport * as store2 from 'store2';\nimport { Middleware } from \"redux\";\n\nconst Store2 = (store2 as unknown) as store2.StoreType;\n\nexport interface RS2SOptions {\n  states?: string[];\n  ignoreStates?: string[];\n  namespace?: string;\n  session?: boolean;\n  debounce?: number;\n  disableWarnings?: boolean;\n}\nexport interface LoadOptions {\n  states?: string[];\n  immutablejs?: boolean;\n  namespace?: string;\n  session?: boolean;\n  preloadedState?: {};\n  disableWarnings?: boolean;\n}\nexport interface ClearOptions {\n  namespace?: string;\n  disableWarnings?: boolean;\n  session?: boolean;\n}\n\nconst MODULE_NAME = '[Redux-Store2-Simple]';\nconst NAMESPACE_DEFAULT = 'rs2s_';\n// const NAMESPACE_SEPARATOR_DEFAULT = '_'\nconst STATES_DEFAULT: string[] = [];\nconst IGNORE_STATES_DEFAULT: string[] = [];\nconst DEBOUNCE_DEFAULT = 0;\nconst IMMUTABLEJS_DEFAULT = false;\nconst DISABLE_WARNINGS_DEFAULT = false;\nlet debounceTimeouts = new Map();\n\n// ---------------------------------------------------\n/* warn\n\n  DESCRIPTION\n  ----------\n  Write a warning to the console if warnings are enabled\n\n  PARAMETERS\n  ----------\n  @disableWarnings (Boolean) - If set to true then the warning is not written to the console\n  @warningMessage (String) - The message to write to the console\n\n*/\n\nfunction warnConsole(warningMessage: string) {\n  console.warn(MODULE_NAME, warningMessage);\n}\n\nfunction warnSilent(_warningMessage: string) {\n  // Empty\n}\n\nconst warn = (disableWarnings: boolean) => (disableWarnings ? warnSilent : warnConsole);\n\n// ---------------------------------------------------\n/* lensPath\n\n  DESCRIPTION\n  ----------\n  Gets inner data from an object based on a specified path\n\n  PARAMETERS\n  ----------\n  @path (Array of Strings) - Path used to get an object's inner data\n                              e.g. ['prop', 'innerProp']\n  @obj (Object) - Object to get inner data from\n\n  USAGE EXAMPLE\n  -------------\n  lensPath(\n    ['prop', 'innerProp'],\n    { prop: { innerProp: 123 } }\n  )\n\n    returns\n\n  123\n*/\n\nfunction lensPath(path: string[], obj: object): any {\n  if (obj === undefined) {\n    return null\n  } else if (path.length === 1) {\n    return obj[path[0]];\n  } else {\n    return lensPath(path.slice(1), obj[path[0]]);\n  }\n}\n\n// ---------------------------------------------------\n/* realiseObject\n\n  DESCRIPTION\n  ----------\n  Create an object from a specified path, with\n  the innermost property set with an initial value\n\n  PARAMETERS\n  ----------\n  @objectPath (String) - Object path e.g. 'myObj.prop1.prop2'\n  @objectInitialValue (Any, optional) - Value of the innermost property once object is created\n\n  USAGE EXAMPLE\n  -------------\n\n  realiseObject('myObj.prop1.prop2', 123)\n\n    returns\n\n  {\n    myObj: {\n      prop1: {\n          prop2: 123\n        }\n      }\n  }\n*/\n\nfunction realiseObject(objectPath: string, objectInitialValue = {}) {\n  function realiseObject_(objectPathArr: string[], objectInProgress: object): any {\n    if (objectPathArr.length === 0) {\n      return objectInProgress;\n    } else {\n      return realiseObject_(objectPathArr.slice(1), { [objectPathArr[0]]: objectInProgress });\n    }\n  }\n  return realiseObject_(objectPath.split('.').reverse(), objectInitialValue)\n}\n\nfunction getStoreFromOptions(opts: RS2SOptions) {\n  const { session = false, namespace } = opts || {};\n  let store = Store2.local;\n  if (session) {\n    store = Store2.session;\n  }\n  if (namespace) {\n    store = store.namespace(namespace);\n  }\n  return store;\n}\n\n\n\n// ---------------------------------------------------\n// SafeLocalStorage wrapper to handle the minefield of exceptions\n// that localStorage can throw. JSON.parse() is handled here as well.\nclass SafeLocalStorage {\n  public store: store2.StoreBase;\n  public warnFn: (m:string)=>void;\n  constructor(warnFn: (m:string)=>void, storageOpts: RS2SOptions) {\n    this.store = getStoreFromOptions(storageOpts);\n    this.warnFn = warnFn || warnConsole;\n  }\n  public get length() {\n    try {\n      return this.store.length;\n    } catch (err) {\n      this.warnFn(err);\n    }\n    return 0;\n  }\n  public key(ind: number) {\n    try {\n      const keys = this.store.keys();\n      return keys[ind];\n    } catch (err) {\n      this.warnFn(err);\n    }\n    return null\n  }\n  public setItem(key: string, val: any) {\n    try {\n      this.store.set(key, val);\n    } catch (err) {\n      this.warnFn(err);\n    }\n  }\n  public getItem(key?: string) {\n    try {\n      if (typeof key !== 'string') {\n        return this.store.getAll();\n      }\n      return this.store.get(key);\n    } catch (err) {\n      this.warnFn(err);\n    }\n    return null;\n  }\n  public removeItem(key: string) {\n    try {\n      this.store.remove(key);\n    } catch (err) {\n      this.warnFn(err);\n    }\n  }\n  public clear() {\n    try {\n      this.store.clearAll();\n    } catch (err) {\n      this.warnFn(err);\n    }\n  }\n}\n// ---------------------------------------------------\n\n/**\n  Saves specified parts of the Redux state tree into localstorage\n  Note: this is Redux middleware. Read this for an explanation:\n  http://redux.js.org/docs/advanced/Middleware.html\n\n  PARAMETERS\n  ----------\n  @config (Object) - Contains configuration options (leave blank to save entire state tree to localstorage)\n\n            Properties:\n              states (Array of Strings, optional) - States to save e.g. ['user', 'products']\n              namespace (String, optional) - Namespace to add before your LocalStorage items\n              debounce (Number, optional) - Debouncing period (in milliseconds) to wait before saving to LocalStorage\n                                            Use this as a performance optimization if you feel you are saving\n                                            to LocalStorage too often. Recommended value: 500 - 1000 milliseconds\n\n  USAGE EXAMPLES\n  -------------\n\n    // save entire state tree - EASIEST OPTION\n    save()\n\n    // save specific parts of the state tree\n    save({\n      states: ['user', 'products']\n    })\n\n    // save the entire state tree under the namespace 'my_cool_app'. The key 'my_cool_app' will appear in LocalStorage\n    save({\n      namespace: 'my_cool_app'\n    })\n\n    // save the entire state tree only after a debouncing period of 500 milliseconds has elapsed\n    save({\n      debounce: 500\n    })\n\n    // save specific parts of the state tree with the namespace 'my_cool_app'. The keys 'my_cool_app_user' and 'my_cool_app_products' will appear in LocalStorage\n    save({\n        states: ['user', 'products'],\n        namespace: 'my_cool_app',\n        debounce: 500\n    })\n*/\n\nexport function save({\n  states = STATES_DEFAULT,\n  ignoreStates = IGNORE_STATES_DEFAULT,\n  namespace = NAMESPACE_DEFAULT,\n  session = false,\n  debounce = DEBOUNCE_DEFAULT,\n  disableWarnings = DISABLE_WARNINGS_DEFAULT\n}: RS2SOptions = {}): Middleware {\n  return store => next => action => {\n    // Bake disableWarnings into the warn function\n    const warn_ = warn(disableWarnings);\n    const returnValue = next(action);\n    let state_: object | undefined;\n\n    // Validate 'states' parameter\n    if (!isArray(states)) {\n      console.error(MODULE_NAME, \"'states' parameter in 'save()' method was passed a non-array value. Setting default value instead. Check your 'save()' method.\");\n      states = STATES_DEFAULT;\n    }\n\n    // Validate 'ignoreStates' parameter\n    if (!isArray(ignoreStates)) {\n      console.error(MODULE_NAME, \"'ignoreStates' parameter in 'save()' method was passed a non-array value. Setting default value instead. Check your 'save()' method.\");\n      ignoreStates = IGNORE_STATES_DEFAULT;\n    }\n\n    // Validate individual entries in'ignoreStates' parameter\n    if (ignoreStates.length > 0) {\n      ignoreStates = ignoreStates.filter(function (ignoreState) {\n        if (!isString(ignoreState)) {\n          console.error(MODULE_NAME, \"'ignoreStates' array contains a non-string value. Ignoring this value. Check your 'ignoreStates' array.\")\n        } else {\n          return ignoreState\n        }\n      })\n    }\n\n    // Validate 'namespace' parameter\n    if (!isString(namespace)) {\n      console.error(MODULE_NAME, \"'namespace' parameter in 'save()' method was passed a non-string value. Setting default value instead. Check your 'save()' method.\");\n      namespace = NAMESPACE_DEFAULT;\n    }\n\n    // // Validate 'namespaceSeparator' parameter\n    // if (!isString(namespaceSeparator)) {\n    //   console.error(MODULE_NAME, \"'namespaceSeparator' parameter in 'save()' method was passed a non-string value. Setting default value instead. Check your 'save()' method.\")\n    //   namespaceSeparator = NAMESPACE_SEPARATOR_DEFAULT\n    // }\n\n    // Validate 'debounce' parameter\n    if (!isInteger(debounce)) {\n      console.error(MODULE_NAME, \"'debounce' parameter in 'save()' method was passed a non-integer value. Setting default value instead. Check your 'save()' method.\");\n      debounce = DEBOUNCE_DEFAULT;\n    }\n\n    // Check if there are states to ignore\n    if (ignoreStates.length > 0) {\n      state_ = handleIgnoreStates(ignoreStates, store.getState());\n    } else {\n      state_ = store.getState();\n    }\n    const storage = new SafeLocalStorage(warn_, { session, namespace });\n\n    // Check to see whether to debounce LocalStorage saving\n    if (debounce) {\n      // Clear the debounce timeout if it was previously set\n      if (debounceTimeouts.get(states + namespace)) {\n        clearTimeout(debounceTimeouts.get(states + namespace));\n      }\n\n      // Save to LocalStorage after the debounce period has elapsed\n      debounceTimeouts.set(\n        states + namespace,\n        setTimeout(function () {\n          _save();\n        }, debounce)\n      )\n      // No debouncing necessary so save to LocalStorage right now\n    } else {\n      _save();\n    }\n\n    // Digs into rootState for the data to put in LocalStorage\n    function getStateForLocalStorage(state:string, rootState:object) {\n      const delimiter = '.'\n\n      if (state.split(delimiter).length > 1) {\n        return lensPath(state.split(delimiter), rootState)\n      } else {\n        return lensPath([state], rootState)\n      }\n    }\n\n    // Local function to avoid duplication of code above\n    function _save() {\n      if (states.length === 0) {\n        storage.store.setAll(state_)\n      } else {\n        states.forEach(state => {\n          const key = state; // namespace + namespaceSeparator + state\n          const stateForLocalStorage = getStateForLocalStorage(state, state_)\n          if (stateForLocalStorage) {\n            storage.setItem(key, stateForLocalStorage)\n          } else {\n            // Make sure nothing is ever saved for this incorrect state\n            storage.removeItem(key)\n          }\n        })\n      }\n    }\n\n    return returnValue\n  }\n}\n\n/**\n  Loads specified states from localstorage into the Redux state tree.\n\n  PARAMETERS\n  ----------\n  @config (Object) - Contains configuration options (leave blank to load entire state tree, if it was saved previously that is)\n            Properties:\n              states (Array of Strings, optional) - Parts of state tree to load e.g. ['user', 'products']\n              namespace (String, optional) - Namespace required to retrieve your LocalStorage items, if any\n\n  Usage examples:\n\n    // load entire state tree - EASIEST OPTION\n    load()\n\n    // load specific parts of the state tree\n    load({\n      states: ['user', 'products']\n    })\n\n    // load the entire state tree which was previously saved with the namespace \"my_cool_app\"\n    load({\n      namespace: 'my_cool_app'\n    })\n\n    // load specific parts of the state tree which was previously saved with the namespace \"my_cool_app\"\n    load({\n        states: ['user', 'products'],\n        namespace: 'my_cool_app'\n    })\n\n*/\n\nexport function load({\n  states = STATES_DEFAULT,\n  immutablejs = IMMUTABLEJS_DEFAULT,\n  namespace = NAMESPACE_DEFAULT,\n  session = false,\n  preloadedState = {},\n  disableWarnings = DISABLE_WARNINGS_DEFAULT\n}: LoadOptions = {}): object {\n  // Bake disableWarnings into the warn function\n  const warn_ = warn(disableWarnings);\n\n  // Validate 'states' parameter\n  if (!isArray(states)) {\n    console.error(MODULE_NAME, \"'states' parameter in 'load()' method was passed a non-array value. Setting default value instead. Check your 'load()' method.\");\n    states = STATES_DEFAULT;\n  }\n\n  // Validate 'namespace' parameter\n  if (!isString(namespace)) {\n    console.error(MODULE_NAME, \"'namespace' parameter in 'load()' method was passed a non-string value. Setting default value instead. Check your 'load()' method.\");\n    namespace = NAMESPACE_DEFAULT;\n  }\n\n  // Display immmutablejs deprecation notice if developer tries to utilise it\n  if (immutablejs === true) {\n    warn_('Support for Immutable.js data structures has been deprecated as of version 2.0.0. Please use version 1.4.0 if you require this functionality.');\n  }\n\n  const storage = new SafeLocalStorage(warn_, { session, namespace });\n\n  let loadedState = preloadedState;\n\n  // Load all of the namespaced Redux data from LocalStorage into local Redux state tree\n  if (states.length === 0) {\n    const val = storage.getItem(); //getItem();\n    if (val) {\n      loadedState = val;\n    }\n  } else { // Load only specified states into the local Redux state tree\n    states.forEach(function (key) {\n      //namespace + namespaceSeparator + state\n      const val = storage.getItem(key);\n      if (val) {\n        loadedState = merge.recursive(loadedState, realiseObject(key, val));\n      } else {\n        warn_(\"Invalid load '\" + key + \"' provided. Check your 'states' in 'load()'. If this is your first time running this app you may see this message. To disable it in future use the 'disableWarnings' flag, see documentation.\");\n      }\n    })\n  }\n  return loadedState;\n}\n\n/**\n  Combines multiple 'load' method calls to return a single state for use in Redux's createStore method.\n  Use this when parts of the loading process need to be handled differently e.g. some parts of your state tree use different namespaces\n\n  PARAMETERS\n  ----------\n  @loads - 'load' method calls passed into this method as normal arguments\n\n  Usage example:\n\n    // Load parts of the state tree saved with different namespaces\n    combineLoads(\n        load({ states: ['user'], namespace: 'account_stuff' }),\n        load({ states: ['products', 'categories'], namespace: 'site_stuff' )\n    )\n*/\n\nexport function combineLoads(...loads: object[]): object {\n  let combinedLoad = {};\n\n  loads.forEach(load => {\n    // Make sure current 'load' is an object\n    if (!isObject(load)) {\n      console.error(MODULE_NAME, \"One or more loads provided to 'combineLoads()' is not a valid object. Ignoring the invalid load/s. Check your 'combineLoads()' method.\");\n      load = {};\n    }\n\n    for (let state in load) {\n      combinedLoad[state] = load[state];\n    }\n  })\n\n  return combinedLoad;\n}\n\n/**\n  Clears all Redux state tree data from LocalStorage\n  Remember to provide a namespace if you used one during the save process\n\n  PARAMETERS\n  ----------\n  @config (Object) -Contains configuration options (leave blank to clear entire state tree from LocalStorage, if it was saved without a namespace)\n            Properties:\n              namespace (String, optional) - Namespace that you used during the save process\n\n  Usage example:\n\n    // clear all Redux state tree data saved without a namespace\n    clear()\n\n    // clear Redux state tree data saved with a namespace\n    clear({\n      namespace: 'my_cool_app'\n    })\n*/\n\nexport function clear({\n  namespace = NAMESPACE_DEFAULT,\n  disableWarnings = DISABLE_WARNINGS_DEFAULT,\n  session = false\n}: ClearOptions = {}): void {\n  // Bake disableWarnings into the warn function\n  const warn_ = warn(disableWarnings);\n\n  // Validate 'namespace' parameter\n  if (!isString(namespace)) {\n    console.error(MODULE_NAME, \"'namespace' parameter in 'clear()' method was passed a non-string value. Setting default value instead. Check your 'clear()' method.\");\n    namespace = NAMESPACE_DEFAULT\n  }\n\n  const storage = new SafeLocalStorage(warn_, { session, namespace });\n  storage.clear();\n  // const len = storage.length\n  // for (let ind = 0; ind < len; ind++) {\n  //   const key = storage.key(ind)\n\n  //   // key starts with namespace\n  //   if (key && key.slice(0, namespace.length) === namespace) {\n  //     storage.removeItem(key)\n  //   }\n  // }\n}\n\n// ---------------------------------------------------\n// Utility functions\n\nfunction isArray(value: any) {\n  return Object.prototype.toString.call(value) === '[object Array]';\n}\n\nfunction isString(value: any) {\n  return typeof value === 'string';\n}\n\nfunction isInteger(value: any) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n}\n\nfunction isObject(value: any) {\n  return value !== null && typeof value === 'object';\n}\n\n// Removes ignored states from the main state object\nfunction handleIgnoreStates(ignoreStates: string[], stateFull: object) {\n  let stateFullMinusIgnoreStates = Object.entries(stateFull).reduce(function (acc, [key, value]) {\n    if (ignoreStates.indexOf(key) === -1) {\n      acc[key] = stateFull[key];\n    }\n    return acc;\n  }, {})\n  return stateFullMinusIgnoreStates;\n}\n"],"names":["root","factory","exports","module","define","amd","self","main","items","_i","arguments","length","merge","apply","_merge","recursive","clone","input","Array","isArray","output","index","push","isPlainObject","_recursiveMerge","base","extend","key","isClone","isRecursive","result","shift","item","value","Object","defineProperty","window","_","version","areas","apis","nsdelim","inherit","api","o","p","hasOwnProperty","getOwnPropertyDescriptor","stringify","d","fn","undefined","JSON","replace","parse","s","revive","e","name","storeAPI","get","area","getItem","set","string","setItem","remove","removeItem","i","clear","Store","id","namespace","store","data","overwrite","getAll","transact","each","setAll","_id","testKey","_area","storage","_ns","this","singleArea","delim","_delim","substring","ns","isFake","force","_real","toString","has","_in","size","keys","fill","m","_out","call","fillList","k","v","list","alt","fillObj","all","val","ret","replacer","changed","add","concat","type","clearAll","indexOf","storageAPI","c","localStorage","local","sessionStorage","conflict","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","a","definition","enumerable","obj","prop","prototype","r","Symbol","toStringTag","Store2","store2","MODULE_NAME","NAMESPACE_DEFAULT","STATES_DEFAULT","IGNORE_STATES_DEFAULT","DISABLE_WARNINGS_DEFAULT","debounceTimeouts","Map","warnConsole","warningMessage","console","warn","warnSilent","disableWarnings","lensPath","path","slice","realiseObject","objectPath","realiseObject_","objectPathArr","objectInProgress","objectInitialValue","split","reverse","SafeLocalStorage","warnFn","storageOpts","opts","session","getStoreFromOptions","err","ind","save","states","ignoreStates","debounce","next","action","_save","state_","forEach","state","stateForLocalStorage","rootState","getStateForLocalStorage","warn_","returnValue","error","filter","ignoreState","isString","isInteger","handleIgnoreStates","getState","clearTimeout","setTimeout","load","immutablejs","preloadedState","loadedState","combineLoads","combinedLoad","loads","isObject","isFinite","Math","floor","stateFull","entries","reduce","acc"],"sourceRoot":""}